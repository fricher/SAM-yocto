INHERIT += "extrausers"

DISTRO = "soy"

USE_DEVFS = "0"

MACHINE = "raspberrypi3"
MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "kernel-modules"
MACHINE_FEATURES_remove = "alsa apm bluetooth touchscreen qemu-usermode"

INITRAMFS_IMAGE_BUNDLE = "1"
INITRAMFS_IMAGE = "sam-initramfs"
BOOT_SPACE = "102400"
INITRAMFS_MAXSIZE = "409600"
SDIMG_ROOTFS_DEPLOY = "0"

TOOLCHAIN_TARGET_TASK += " libstdc++-staticdev"

KERNEL_MODULE_AUTOLOAD += "i2c-dev"

# Choose the board you are building for
SDKMACHINE = "x86_64"

CMDLINE_append = " isolcpus=2,3 rootflags=commit=120,data=writeback elevator=deadline nortc noatime nodiratime fastboot data=writeback quiet"

SERIAL_CONSOLES = ""
ENABLE_UART = "0"
ENABLE_SPI_BUS = "1"
DISABLE_OVERSCAN = "1"
ENABLE_RPI3_SERIAL_CONSOLE = "1"
DISABLE_SPLASH = "1"
DISABLE_RPI_BOOT_LOGO = "1"
BOOT_DELAY = "0"
BOOT_DELAY_MS = "0"

EXTRA_USERS_PARAMS = "usermod -P root root; "

CONF_VERSION = "1"

INHERIT += "buildhistory"
BUILDHISTORY_COMMIT = "1"
