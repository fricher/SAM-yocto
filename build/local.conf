#LICENSE_FLAGS_WHITELIST = "commercial"

INHERIT += "buildstats"
INHERIT += "toaster buildhistory"
INHERIT += "extrausers"

DISTRO_NAME = "SAM on Yocto"
DISTRO_VERSION = "0"

USE_DEVFS = "0"

TCLIBC = "glibc"

#opengl bluetooth ext2 ipv4 usbutils
DISTRO_FEATURES = "sysvinit ipv4 wifi ${DISTRO_FEATURES_LIBC}"
DISTRO_FEATURES_BACKFILL_CONSIDERED="pulseaudio sysvinit bluez5 gobject-introspection-data"

PREFERRED_PROVIDER_virtual/kernel = "linux-raspberrypi-rt"
PREFERRED_VERSION_linux-raspberrypi-rt = "4.14%"

VIRTUAL-RUNTIME_base-utils = "busybox"
VIRTUAL-RUNTIME_base-utils-syslog = "busybox-syslog"
VIRTUAL-RUNTIME_dev_manager = "udev"
VIRTUAL-RUNTIME_login_manager = "busybox"
VIRTUAL-RUNTIME_init_manager = "busybox"
VIRTUAL-RUNTIME_keymaps = "keymaps"
VIRTUAL-RUNTIME_initscripts = "initscripts"

MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += "kernel-modules"
MACHINE_FEATURES_remove = "alsa apm bluetooth touchscreen userland qemu-usermode"

KERNEL_MODULE_AUTOLOAD += "i2c-dev"

BBMASK += "/meta-raspberrypi/dynamic-layers/qt5-layer/recipes-qt/qt5/"
#BBMASK += "/meta-raspberrypi/recipes-core/psplash/"

IMAGE_FSTYPES = "rpi-sdimg"

# Choose the board you are building for
MACHINE = "raspberrypi3"
INITRAMFS_MAXSIZE = "536870912"
SDKMACHINE = "x86_64"

SERIAL_CONSOLES = ""
ENABLE_UART = "0"
ENABLE_SPI_BUS = "1"
DISABLE_OVERSCAN = "1"
ENABLE_RPI3_SERIAL_CONSOLE = "1"

EXTRA_USERS_PARAMS = "usermod -P root root; "

CONF_VERSION = "1"
